:root{
  --bg: #d8d9da;
  --card: #ffffff;
  --muted: #374151; /* darker for better contrast */
  --title: #0f172a; /* section title color */
  --accent: #2563eb;
  /* safe space at bottom so fixed footer doesn't cover content when scrolled */
  --footer-safe-space: 64px;
  isolation: isolate;
}
*{box-sizing:border-box}
/* Prefer Corbel on platforms that have it; fall back to reliable UI fonts */
/* Use system UI as the default body font; specific elements will get Google Fonts */
body{font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;margin:0;background:var(--bg);color:#0b1220}
.app{max-width:1100px;margin:0 auto;padding:16px}

/* Append a spacer at the end of the main app so the fixed footer won't overlap content
  when the user scrolls to the bottom. The variable allows easy tuning. */
.app::after{content:"";display:block;height:var(--footer-safe-space);width:100%}
.app-header h1{font-size:1.75rem;font-family:'Quintessential',cursive}
.app-header .title-row{display:flex;align-items:center;gap:4px}
/* Subtitle under the main title */
.app-header .subtitle{margin:0 0 1em 0;padding-bottom: 1em; font-size:0.95rem;color:var(--muted);font-family:'Aref Ruqaa',serif;border-bottom: 1px solid var(--muted);}
.app-header .subtitle .learn-more{background:transparent;border:none;color:var(--accent);cursor:pointer;padding:0;font-weight:600;text-decoration:underline;font-family:'Aref Ruqaa',serif}
.app-header .subtitle .learn-more:hover{text-decoration:none;opacity:0.9}

/* Tabs Pane */
.tabs-pane-columns{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px}
.tabs-pane{display:flex;flex-direction:column}
.tabs-list{display:flex;position:relative;}
.tabs-tab{display:flex;justify-content:center;gap:8px;flex:1;padding:12px 16px;border:none;background:transparent;cursor:pointer;font-size:1rem;color:var(--muted);overflow:hidden}
.tabs-tab[data-active]{color:var(--title);}
.tabs-indicator{position:absolute;z-index:-1;top:50%;width:var(--active-tab-width);height:var(--active-tab-height);background-color:var(--card);border-bottom:2px solid var(--muted);border-radius:1em 1em 0 0;translate: var(--active-tab-left) -50%; transition: all 150ms ease;}
h2{font-size:1.25rem;margin:0;font-weight:600;font-family:'Quintessential',cursive}

/* Sections and tooltips */
.section{background:var(--card);padding:14px;border-radius:1em;box-shadow:0 1px 4px rgba(2,6,23,0.06)}
.section.headerless{border-radius:0 0 1em 1em}
.section-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.tooltip-wrapper{position:relative;display:inline-block}
.info{width:28px;height:28px;display:inline-flex;align-items:center;justify-content:center;background:transparent;color:var(--accent);cursor:help;border:none;padding:0}
.info svg{display:block;width:28px;height:28px}

.tooltip-box{position:absolute;right:0;top:110%;min-width:200px;max-width:360px;background:var(--card);color:#111;border:1px solid #e6e9ee;padding:10px;border-radius:8px;box-shadow:0 6px 18px rgba(2,6,23,0.08);opacity:0;transform:translateY(-6px);transition:opacity 150ms ease,transform 150ms ease;pointer-events:none;z-index:30}
.tooltip-visible{opacity:1;transform:translateY(0);pointer-events:auto}
.tooltip-arrow{position:absolute;width:12px;height:12px;background:var(--card);transform:rotate(45deg);right:16px;top:-6px;border-left:1px solid #e6e9ee;border-top:1px solid #e6e9ee}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px}
.item-card{display:flex;flex-direction:column;gap:8px;padding:10px;border-radius:6px}
.item-card.standard{background:linear-gradient(180deg,#fff,#f1f8ff)}

/* Favorites have a sheen */
.item-card.favorite{position:relative;overflow:hidden;border:1px solid rgba(235, 199, 37, 0.7)}
.item-card.favorite::after{content:"";position:absolute;left:-50%;top:-85%;width:175%;height:185%;background:linear-gradient(20deg,rgba(255, 253, 245, 0.35) 30%,rgba(250, 201, 68, 0.18) 70%,rgba(189, 126, 9, 0.16) 100%);transform:rotate(20deg);opacity:0.65;pointer-events:none;z-index:0}
.item-card.favorite{box-shadow:0 6px 18px rgba(235, 199, 37, 0.08)}
/* ensure child content sits above the sheen so their colors are preserved */
.item-card.favorite > *{position:relative;z-index:1}

.item-card.add-new{border:1px solid var(--muted);display: flex;align-items:center;justify-content:center;cursor:pointer;}
.controls{display:flex;align-items:center;gap:8px}
.label{font-size:1rem;color:var(--muted);font-weight:500;font-family:'Aref Ruqaa',serif}

/* NumberIncrementor: compact minus / input / plus that look visually connected */
.number-incrementor{display:inline-flex;align-items:center;font-family:inherit;}
.number-incrementor .ni-button{display:inline-flex;align-items:center;justify-content:center;height:1.6rem;padding:0 8px;border:1px solid #e6e9ee;background:#fff;color:var(--muted);cursor:pointer;user-select:none}
.number-incrementor .ni-button:disabled{opacity:0.45;cursor:not-allowed}
.number-incrementor .ni-decrement{border-radius:6px 0 0 6px}
.number-incrementor .ni-increment{border-radius:0 6px 6px 0}
.number-incrementor .ni-input{width:3em;border:none;text-align:center;font-size:1rem;padding:3px 8px;border-top:1px solid #e6e9ee;border-bottom:1px solid #e6e9ee;background:#fff}
.number-incrementor .ni-button:hover:not(:disabled){background:rgba(2,6,23,0.03)}
.number-incrementor .ni-button:active:not(:disabled){background:rgba(2,6,23,0.06)}

/* item toolbar: favorite star (left) and trash (right) */
.item-toolbar{display:flex;align-items:center;justify-content:space-between;pointer-events:auto;z-index:2}
.item-toolbar .fav-btn{display:inline-flex;align-items:center;gap:6px;border:none;background:transparent;padding:4px 6px;border-radius:6px;color:var(--muted);cursor:pointer}
.item-toolbar .fav-btn .fav-label{font-size:0.85rem}
.item-toolbar .fav-btn.fav-on{color:#f59e0b}
.item-toolbar .trash-btn{border:none;background:transparent;padding:6px;border-radius:6px;color:#b91c1c;cursor:pointer}
.item-toolbar button:hover{background:rgba(2,6,23,0.03)}

/* Edit buttons */
.edit-button{margin-left:8px;border:none;background:transparent;cursor:pointer;font-size:0.9rem;padding:4px;border-radius:6px;display:inline-flex;align-items:center}
.edit-button svg{display:block}
.edit-button:hover{background:rgba(2,6,23,0.04)}
.edit-button.editing{background:rgba(255,255,255,0.4);border:1px solid var(--muted);}

/* Price indicators inside each item */
.price-row{display:flex;gap:8px;flex-wrap:wrap;}
.price-pill{font-size:0.9rem;padding:4px 8px;border-radius:999px;background:rgba(15,23,42,0.04);color:var(--title);display:inline-flex;align-items:center;gap:6px;border:1px solid rgba(15,23,42,0.5)}
.price-pill.recovery{background:rgba(185,28,28,0.06);color:#7f1d1d;border-color:rgba(127,29,29,0.25)}
.price-pill.focus{background:rgba(245,158,11,0.06);color:#92400e;border-color:rgba(146,64,14,0.25)}

/* Icon inside a pill â€” allow grayscale when negative */
.price-pill .pill-icon{display:inline-block;margin-right:6px}
.price-pill.negative .pill-icon{filter:grayscale(100%);-webkit-filter:grayscale(100%)}

.loading{padding:32px;text-align:center}

/* Footer / sticky status bar */
.footer{position:fixed;left:16px;right:16px;bottom:16px;background:var(--card);border-radius:1em;padding:10px 12px;box-shadow:0 8px 30px rgba(2,6,23,0.12);z-index:40;transition:height 180ms ease}
.footer-row{display:flex;align-items:center;gap:12px}
.player-name{font-weight:600;margin-right:8px}

/* Footer: inherit the global font (system UI). Player name still uses the header font. */
.footer, .footer *{font-family:inherit}
.player-name{font-family:'Quintessential',cursive}
/* edit pencil button next to player name */
.player-net{display:flex;gap:12px;margin-left:8px}
.player-net span{font-size:0.95rem}
.player-net .net-focus{color:#0b1220}
.player-net .net-recovery{color:#0b1220}
.chev{margin-left:auto;background:transparent;border:none;width:36px;height:36px;border-radius:1em;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transform:rotate(0);transition:transform 160ms ease}
.chev.open{transform:rotate(180deg)}

.footer-details{display:none;margin-top:10px;padding-top:8px;border-top:1px solid #f1f5f9}
.footer-open .footer-details{display:flex;gap:16px}
.detail-col{min-width:120px}
.detail-title{font-size:0.8rem;color:var(--muted);margin-bottom:6px}
.gain{color:green}
.loss{color:#b91c1c}
.big{font-size:1.1rem;font-weight:700}

@media(max-width:700px){
  .footer{left:8px;right:8px;padding:10px}
  .footer-open .footer-details{flex-direction:column}
}

/* Dialog component styles */
.dialog-backdrop{position:fixed;left:0;right:0;top:0;bottom:0;background:rgba(2,6,23,0.35);display:flex;align-items:center;justify-content:center;z-index:60}
.dialog{background:var(--card);padding:18px;border-radius:1em;min-width:320px;max-width:520px;border:1px solid #e6e9ee;box-shadow:0 10px 40px rgba(2,6,23,0.2);position:relative}
.dialog{font-family:inherit}
.dialog-title{margin:0 0 12px 0;font-family:'Quintessential',cursive}
.dialog-body{margin-bottom:12px}
.dialog label{display:block;margin-bottom:8px;font-size:0.95rem}
.dialog input{width:100%;padding:8px;border:1px solid #e6e9ee;border-radius:6px;margin-top:6px}
.dialog-close{position:absolute;top:8px;right:8px;border:none;background:transparent;font-size:14px;color:#6b7280;cursor:pointer;padding:6px;border-radius:6px}
.dialog-close:hover{background:rgba(2,6,23,0.04)}
.dialog-actions{display:flex;justify-content:flex-end;gap:8px}
.save-btn{background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.25);color:#047857;padding:8px 12px;border-radius:6px;cursor:pointer}
.save-btn:hover{background:rgba(16,185,129,0.14)}
.cancel-btn{background:rgba(239,68,68,0.06);border:1px solid rgba(239,68,68,0.15);color:#991b1b;padding:8px 12px;border-radius:6px;cursor:pointer}
.cancel-btn:hover{background:rgba(239,68,68,0.12)}
